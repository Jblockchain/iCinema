{"ast":null,"code":"import _defineProperty from \"C:/Users/Jatin/Downloads/Compressed/iCinema-master/iCinema-master/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"C:/Users/Jatin/Downloads/Compressed/iCinema-master/iCinema-master/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Jatin/Downloads/Compressed/iCinema-master/iCinema-master/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/Jatin/Downloads/Compressed/iCinema-master/iCinema-master/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/Jatin/Downloads/Compressed/iCinema-master/iCinema-master/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\Jatin\\\\Downloads\\\\Compressed\\\\iCinema-master\\\\iCinema-master\\\\frontend\\\\src\\\\pages\\\\Movies\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport { search, categorize, filterRating } from \"../../utils\";\nimport { MoviesTable, Pagination } from \"../../components\";\nimport { Input, Loading, ListGroup } from \"../../components/common\";\nimport { getMovies as _getMovies } from \"../../actions/moviesAction\";\nimport { getGenres as _getGenres } from \"../../actions/genreAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Movies = /*#__PURE__*/function (_Component) {\n  _inherits(Movies, _Component);\n  var _super = _createSuper(Movies);\n  function Movies() {\n    var _this;\n    _classCallCheck(this, Movies);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      genres: [],\n      pageSize: 12,\n      currentPage: 1,\n      currentGenre: \"All\",\n      searchFilter: \"\",\n      rating: 0\n    };\n    _this.handleChange = function (name, value) {\n      var _this$setState;\n      _this.setState((_this$setState = {}, _defineProperty(_this$setState, name, value), _defineProperty(_this$setState, \"currentPage\", 1), _this$setState));\n    };\n    _this.onPageChange = function (page) {\n      _this.setState({\n        currentPage: page\n      });\n    };\n    return _this;\n  }\n  _createClass(Movies, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getMovies();\n      this.props.getGenres();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$state = this.state,\n        currentGenre = _this$state.currentGenre,\n        currentPage = _this$state.currentPage,\n        searchFilter = _this$state.searchFilter,\n        pageSize = _this$state.pageSize,\n        rating = _this$state.rating;\n      var _this$props = this.props,\n        movies = _this$props.movies,\n        genres = _this$props.genres,\n        loggedIn = _this$props.loggedIn;\n      if (_.isEmpty(movies)) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"background-container pt-5\",\n          children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }, this);\n      }\n      var filteredMovies = [];\n\n      /* Checking for searched item if nothing searched it will just set it to allMovies*/\n      filteredMovies = search(movies, searchFilter, \"title\");\n      filteredMovies = categorize(filteredMovies, currentGenre);\n      filteredMovies = filterRating(filteredMovies, rating);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"background-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mx-5 py-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-2 col-sm-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-muted text-left p-1\",\n                children: \"Filters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n                active: currentGenre,\n                onChange: function onChange(val) {\n                  return _this2.handleChange(\"currentGenre\", val);\n                },\n                options: genres\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                onChange: function onChange(val) {\n                  return _this2.handleChange(\"rating\", val.target.value);\n                },\n                label: \"Rating\",\n                min: 0,\n                max: 10,\n                placeholder: \"0-10\",\n                type: \"number\",\n                iconClass: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-10 col-sm-12\",\n              children: [/*#__PURE__*/_jsxDEV(Input, {\n                onChange: function onChange(event) {\n                  return _this2.handleChange(\"searchFilter\", event.target.value);\n                },\n                label: \"Search Movie\",\n                iconClass: \"fas fa-search\",\n                placeholder: \"Search...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-left text-muted\",\n                children: [!!filteredMovies.length ? \"\".concat(filteredMovies.length) : \"0\", \"movies found.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 15\n              }, this), !!filteredMovies ? /*#__PURE__*/_jsxDEV(MoviesTable, {\n                pageSize: pageSize,\n                currentPage: currentPage,\n                movies: filteredMovies\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-white\",\n                children: \"No Movies\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n                itemsCount: filteredMovies.length,\n                pageSize: pageSize,\n                onPageChange: this.onPageChange,\n                currentPage: currentPage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n  return Movies;\n}(Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    movies: state.movie.movies,\n    genres: state.genre.genres,\n    loggedIn: state.auth.loggedIn\n  };\n};\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getMovies: function getMovies() {\n      return dispatch(_getMovies());\n    },\n    getGenres: function getGenres() {\n      return dispatch(_getGenres());\n    }\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Movies);","map":{"version":3,"names":["React","Component","connect","_","search","categorize","filterRating","MoviesTable","Pagination","Input","Loading","ListGroup","getMovies","getGenres","Movies","state","genres","pageSize","currentPage","currentGenre","searchFilter","rating","handleChange","name","value","setState","onPageChange","page","props","movies","loggedIn","isEmpty","filteredMovies","val","target","event","length","mapStateToProps","movie","genre","auth","mapDispatchToProps","dispatch"],"sources":["C:/Users/Jatin/Downloads/Compressed/iCinema-master/iCinema-master/frontend/src/pages/Movies/index.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\n\nimport { search, categorize, filterRating } from \"../../utils\";\nimport { MoviesTable, Pagination } from \"../../components\";\nimport { Input, Loading, ListGroup } from \"../../components/common\";\n\nimport { getMovies } from \"../../actions/moviesAction\";\nimport { getGenres } from \"../../actions/genreAction\";\n\nclass Movies extends Component {\n  state = {\n    genres: [],\n    pageSize: 12,\n    currentPage: 1,\n    currentGenre: \"All\",\n    searchFilter: \"\",\n    rating: 0,\n  };\n\n  componentDidMount() {\n    this.props.getMovies();\n    this.props.getGenres();\n  }\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value, currentPage: 1 });\n  };\n\n  onPageChange = (page) => {\n    this.setState({ currentPage: page });\n  };\n\n  render() {\n    const {\n      currentGenre,\n      currentPage,\n      searchFilter,\n      pageSize,\n      rating,\n    } = this.state;\n\n    const { movies, genres, loggedIn } = this.props;\n\n    if (_.isEmpty(movies)) {\n      return (\n        <div className=\"background-container pt-5\">\n          <Loading />\n        </div>\n      );\n    }\n\n    let filteredMovies = [];\n\n    /* Checking for searched item if nothing searched it will just set it to allMovies*/\n    filteredMovies = search(movies, searchFilter, \"title\");\n    filteredMovies = categorize(filteredMovies, currentGenre);\n    filteredMovies = filterRating(filteredMovies, rating);\n\n    return (\n      <div className=\"background-container\">\n        <div className=\"mx-5 py-5\">\n          <div className=\"row\">\n            <div className=\"col-lg-2 col-sm-12\">\n              <h4 className=\"text-muted text-left p-1\">Filters</h4>\n              <ListGroup\n                active={currentGenre}\n                onChange={(val) => this.handleChange(\"currentGenre\", val)}\n                options={genres}\n              />\n\n              <Input\n                onChange={(val) =>\n                  this.handleChange(\"rating\", val.target.value)\n                }\n                label={\"Rating\"}\n                min={0}\n                max={10}\n                placeholder=\"0-10\"\n                type=\"number\"\n                iconClass=\"fas fa-star\"\n              />\n              {/* { loggedIn && <Link to='/movies/new' className='btn btn-primary btn-block my-2 text-white'> Add Movie </Link> } */}\n              {/* <Rating total={5} filled={rating} onChange={val => this.handleChange('rating', val)}/> */}\n            </div>\n\n            <div className=\"col-lg-10 col-sm-12\">\n              <Input\n                onChange={(event) =>\n                  this.handleChange(\"searchFilter\", event.target.value)\n                }\n                label=\"Search Movie\"\n                iconClass=\"fas fa-search\"\n                placeholder=\"Search...\"\n              />\n              <p className=\"text-left text-muted\">\n                {!!filteredMovies.length ? `${filteredMovies.length}` : \"0\"}\n                movies found.\n              </p>\n\n              {!!filteredMovies ? (\n                <MoviesTable\n                  pageSize={pageSize}\n                  currentPage={currentPage}\n                  movies={filteredMovies}\n                />\n              ) : (\n                <h1 className=\"text-white\">No Movies</h1>\n              )}\n              <br />\n\n              <Pagination\n                itemsCount={filteredMovies.length}\n                pageSize={pageSize}\n                onPageChange={this.onPageChange}\n                currentPage={currentPage}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    movies: state.movie.movies,\n    genres: state.genre.genres,\n    loggedIn: state.auth.loggedIn,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getMovies: () => dispatch(getMovies()),\n    getGenres: () => dispatch(getGenres()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Movies);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}