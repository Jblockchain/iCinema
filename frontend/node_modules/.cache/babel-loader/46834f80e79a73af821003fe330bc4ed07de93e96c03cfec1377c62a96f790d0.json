{"ast":null,"code":"import _objectSpread from \"C:/Users/Jatin/Downloads/Compressed/iCinema-master/iCinema-master/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"C:/Users/Jatin/Downloads/Compressed/iCinema-master/iCinema-master/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Jatin/Downloads/Compressed/iCinema-master/iCinema-master/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/Jatin/Downloads/Compressed/iCinema-master/iCinema-master/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/Jatin/Downloads/Compressed/iCinema-master/iCinema-master/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\Jatin\\\\Downloads\\\\Compressed\\\\iCinema-master\\\\iCinema-master\\\\frontend\\\\src\\\\pages\\\\AddMovie\\\\index.js\";\nimport React from \"react\";\nimport Joi from \"joi\";\nimport { connect } from \"react-redux\";\nimport Input from \"../../components/common/Input\";\nimport Select from \"../../components/common/Select\";\nimport { addMovie as _addMovie } from \"../../actions/moviesAction\";\nimport { movieSchema } from \"./schema\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar AddMovieForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(AddMovieForm, _React$Component);\n  var _super = _createSuper(AddMovieForm);\n  function AddMovieForm() {\n    var _this;\n    _classCallCheck(this, AddMovieForm);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      data: {\n        title: \"\",\n        genre: \"\",\n        numberInStock: \"\",\n        description: \"\",\n        image: null\n      },\n      genres: [],\n      errors: {}\n    };\n    _this.handleChange = function (_ref) {\n      var input = _ref.currentTarget;\n      var data = _objectSpread({}, _this.state.data);\n      data[input.name] = input.value;\n      _this.setState({\n        data: data\n      });\n    };\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      //TODO: Validate property\n      var _Joi$valid = Joi.valid(_this.state, movieSchema),\n        error = _Joi$valid.error;\n      _this.setState({\n        errors: error\n      });\n      if (!error) _this.props.addMovie(_this.state.data);\n    };\n    _this.uploadImage = function (e) {\n      if (e.target.files[0]) {\n        var data = _objectSpread({}, _this.state.data);\n        data.image = e.target.files[0];\n        _this.setState({\n          data: data\n        });\n      }\n    };\n    return _this;\n  }\n  _createClass(AddMovieForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n        errors = _this$state.errors,\n        data = _this$state.data;\n      var title = data.title,\n        genre = data.genre,\n        numberInStock = data.numberInStock;\n      var genres = this.props.genres;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"background-container pt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"header\",\n            children: \"Add a new movie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.handleSubmit,\n            encType: \"multipart/form-data\",\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              name: \"title\",\n              value: title,\n              label: \"Title\",\n              onChange: this.handleChange,\n              placeholder: \"Enter the title...\",\n              error: errors[\"title\"],\n              iconClass: \"fas fa-film\",\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              name: \"genre\",\n              label: \"Genre\",\n              onChange: this.handleChange,\n              value: genre,\n              error: errors[\"genre\"],\n              options: genres,\n              iconClass: \"fas fa-address-card\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              name: \"numberInStock\",\n              label: \"Number In Stock\",\n              onChange: this.handleChange,\n              placeholder: \"Enter numbers the stock...\",\n              error: errors[\"numberInStock\"],\n              iconClass: \"fas fa-hashtag\",\n              value: numberInStock,\n              type: \"number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              name: \"image\",\n              label: \"Cover Image\",\n              onChange: this.uploadImage,\n              error: errors[\"coverImage\"],\n              iconClass: \"fas fa-file-image\",\n              accept: \"image/*\",\n              type: \"file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              name: \"description\",\n              label: \"Description\",\n              placeholder: \"Enter description about this movie...\",\n              iconClass: \"fas fa-info\",\n              error: errors[\"description\"],\n              type: \"textarea\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n  return AddMovieForm;\n}(React.Component);\nvar mapDispatchToProps = function mapDispatchToProps(dipatch) {\n  return {\n    addMovie: function addMovie(movie) {\n      return dipatch(_addMovie(movie));\n    }\n  };\n};\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    genres: state.genre.genres\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(AddMovieForm);","map":{"version":3,"names":["React","Joi","connect","Input","Select","addMovie","movieSchema","AddMovieForm","state","data","title","genre","numberInStock","description","image","genres","errors","handleChange","input","currentTarget","name","value","setState","handleSubmit","e","preventDefault","valid","error","props","uploadImage","target","files","Component","mapDispatchToProps","dipatch","movie","mapStateToProps"],"sources":["C:/Users/Jatin/Downloads/Compressed/iCinema-master/iCinema-master/frontend/src/pages/AddMovie/index.js"],"sourcesContent":["import React from \"react\";\nimport Joi from \"joi\";\nimport { connect } from \"react-redux\";\n\nimport Input from \"../../components/common/Input\";\nimport Select from \"../../components/common/Select\";\nimport { addMovie } from \"../../actions/moviesAction\";\nimport { movieSchema } from \"./schema\";\n\nclass AddMovieForm extends React.Component {\n  state = {\n    data: {\n      title: \"\",\n      genre: \"\",\n      numberInStock: \"\",\n      description: \"\",\n      image: null,\n    },\n    genres: [],\n    errors: {},\n  };\n\n  handleChange = ({ currentTarget: input }) => {\n    const data = { ...this.state.data };\n    data[input.name] = input.value;\n    this.setState({ data });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    //TODO: Validate property\n    const { error } = Joi.valid(this.state, movieSchema);\n    this.setState({ errors: error });\n    if (!error) this.props.addMovie(this.state.data);\n  };\n\n  uploadImage = (e) => {\n    if (e.target.files[0]) {\n      const data = { ...this.state.data };\n      data.image = e.target.files[0];\n      this.setState({ data });\n    }\n  };\n\n  render() {\n    const { errors, data } = this.state;\n    const { title, genre, numberInStock } = data;\n    const { genres } = this.props;\n\n    return (\n      <div className=\"background-container pt-5\">\n        <div className=\"container\">\n          <h1 className=\"header\">Add a new movie</h1>\n\n          <form onSubmit={this.handleSubmit} encType=\"multipart/form-data\">\n            <Input\n              name=\"title\"\n              value={title}\n              label=\"Title\"\n              onChange={this.handleChange}\n              placeholder=\"Enter the title...\"\n              error={errors[\"title\"]}\n              iconClass=\"fas fa-film\"\n              autoFocus\n            />\n\n            <Select\n              name=\"genre\"\n              label=\"Genre\"\n              onChange={this.handleChange}\n              value={genre}\n              error={errors[\"genre\"]}\n              options={genres}\n              iconClass=\"fas fa-address-card\"\n            />\n\n            <Input\n              name=\"numberInStock\"\n              label=\"Number In Stock\"\n              onChange={this.handleChange}\n              placeholder=\"Enter numbers the stock...\"\n              error={errors[\"numberInStock\"]}\n              iconClass=\"fas fa-hashtag\"\n              value={numberInStock}\n              type=\"number\"\n            />\n\n            <Input\n              name=\"image\"\n              label=\"Cover Image\"\n              onChange={this.uploadImage}\n              error={errors[\"coverImage\"]}\n              iconClass=\"fas fa-file-image\"\n              accept=\"image/*\"\n              type=\"file\"\n            />\n\n            <Input\n              name=\"description\"\n              label=\"Description\"\n              placeholder=\"Enter description about this movie...\"\n              iconClass=\"fas fa-info\"\n              error={errors[\"description\"]}\n              type=\"textarea\"\n            />\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapDispatchToProps = (dipatch) => {\n  return {\n    addMovie: (movie) => dipatch(addMovie(movie)),\n  };\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    genres: state.genre.genres,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddMovieForm);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}